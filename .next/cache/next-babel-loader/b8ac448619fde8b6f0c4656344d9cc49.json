{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react'; // import { Link } from 'react-router-dom';\n\nimport axios from 'axios';\nimport Post from './Post';\nimport styles from './BlogSection.module.css';\n\nclass BlogSection extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      posts: []\n    });\n  }\n\n  componentDidMount() {\n    let blogType = '';\n\n    if (this.props.type === 'studentCorner') {\n      blogType = 'story';\n    } else if (this.props.type === 'currentWorld') {\n      blogType = 'poem';\n    } else {\n      blogType = 'article';\n    }\n\n    axios.get('/api/blogs/' + blogType).then(res => {\n      console.log(res.data);\n      this.setState({\n        posts: res.data\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  render() {\n    const posts = this.state.posts.map(post => {\n      // post.date\n      const date = new Date(post.date_uploaded).toDateString();\n      return __jsx(Post, {\n        key: post._id,\n        id: post._id,\n        title: post.title,\n        author: post.author,\n        subtitle: post.subtitle,\n        content: post.content,\n        date: date,\n        image: post.location,\n        type: post.type\n      });\n    });\n    return __jsx(\"div\", {\n      className: styles.zigzag\n    }, posts);\n  }\n\n}\n\nexport async function getServerSideProps() {\n  // Fetch data from external API\n  const res = await fetch(`https://.../data`);\n  const data = await res.json(); // Pass data to the page via props\n\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default BlogSection;","map":{"version":3,"sources":["/home/sauravskv/Desktop/TheNAA-Blog/components/Post/BlogSection.js"],"names":["React","Component","axios","Post","styles","BlogSection","posts","componentDidMount","blogType","props","type","get","then","res","console","log","data","setState","catch","err","error","render","state","map","post","date","Date","date_uploaded","toDateString","_id","title","author","subtitle","content","location","zigzag","getServerSideProps","fetch","json"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCACxB;AACJK,MAAAA,KAAK,EAAE;AADH,KADwB;AAAA;;AAKhCC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,QAAQ,GAAG,EAAf;;AAEA,QAAI,KAAKC,KAAL,CAAWC,IAAX,KAAoB,eAAxB,EAAyC;AACrCF,MAAAA,QAAQ,GAAG,OAAX;AACH,KAFD,MAGK,IAAI,KAAKC,KAAL,CAAWC,IAAX,KAAoB,cAAxB,EAAwC;AACzCF,MAAAA,QAAQ,GAAG,MAAX;AACH,KAFI,MAGA;AACDA,MAAAA,QAAQ,GAAG,SAAX;AACH;;AAEDN,IAAAA,KAAK,CAACS,GAAN,CAAU,gBAAgBH,QAA1B,EACKI,IADL,CACUC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,WAAKC,QAAL,CAAc;AACVX,QAAAA,KAAK,EAAEO,GAAG,CAACG;AADD,OAAd;AAGH,KANL,EAOKE,KAPL,CAOWC,GAAG,IAAI;AACVL,MAAAA,OAAO,CAACM,KAAR,CAAcD,GAAd;AACH,KATL;AAUH;;AACDE,EAAAA,MAAM,GAAG;AACL,UAAMf,KAAK,GAAG,KAAKgB,KAAL,CAAWhB,KAAX,CAAiBiB,GAAjB,CAAqBC,IAAI,IAAI;AACvC;AACA,YAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,aAAd,EAA6BC,YAA7B,EAAb;AACA,aAAO,MAAC,IAAD;AAAM,QAAA,GAAG,EAAEJ,IAAI,CAACK,GAAhB;AAAqB,QAAA,EAAE,EAAEL,IAAI,CAACK,GAA9B;AAAmC,QAAA,KAAK,EAAEL,IAAI,CAACM,KAA/C;AAAsD,QAAA,MAAM,EAAEN,IAAI,CAACO,MAAnE;AAA2E,QAAA,QAAQ,EAAEP,IAAI,CAACQ,QAA1F;AAAoG,QAAA,OAAO,EAAER,IAAI,CAACS,OAAlH;AAA2H,QAAA,IAAI,EAAER,IAAjI;AAAuI,QAAA,KAAK,EAAED,IAAI,CAACU,QAAnJ;AAA6J,QAAA,IAAI,EAAEV,IAAI,CAACd;AAAxK,QAAP;AACH,KAJa,CAAd;AAKA,WACI;AAAK,MAAA,SAAS,EAAEN,MAAM,CAAC+B;AAAvB,OACK7B,KADL,CADJ;AAKH;;AAxC+B;;AA2CpC,OAAO,eAAe8B,kBAAf,GAAoC;AACzC;AACA,QAAMvB,GAAG,GAAG,MAAMwB,KAAK,CAAE,kBAAF,CAAvB;AACA,QAAMrB,IAAI,GAAG,MAAMH,GAAG,CAACyB,IAAJ,EAAnB,CAHyC,CAKzC;;AACA,SAAO;AAAE7B,IAAAA,KAAK,EAAE;AAAEO,MAAAA;AAAF;AAAT,GAAP;AACD;AAED,eAAeX,WAAf","sourcesContent":["import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Post from './Post';\nimport styles from './BlogSection.module.css'\n\nclass BlogSection extends Component {\n    state = {\n        posts: []\n    }\n\n    componentDidMount() {\n        let blogType = '';\n\n        if (this.props.type === 'studentCorner') {\n            blogType = 'story';\n        }\n        else if (this.props.type === 'currentWorld') {\n            blogType = 'poem';\n        }\n        else {\n            blogType = 'article';\n        }\n\n        axios.get('/api/blogs/' + blogType)\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    posts: res.data\n                })\n            })\n            .catch(err => {\n                console.error(err);\n            })\n    }\n    render() {\n        const posts = this.state.posts.map(post => {\n            // post.date\n            const date = new Date(post.date_uploaded).toDateString();\n            return <Post key={post._id} id={post._id} title={post.title} author={post.author} subtitle={post.subtitle} content={post.content} date={date} image={post.location} type={post.type} />;\n        })\n        return (\n            <div className={styles.zigzag}>\n                {posts}\n            </div>\n        )\n    }\n}\n\nexport async function getServerSideProps() {\n  // Fetch data from external API\n  const res = await fetch(`https://.../data`)\n  const data = await res.json()\n\n  // Pass data to the page via props\n  return { props: { data } }\n}\n\nexport default BlogSection;"]},"metadata":{},"sourceType":"module"}